(()=>{"use strict";function e(e){return e[0].toUpperCase()+e.substring(1)}const t=document.querySelector("#project-banner"),r=document.querySelector("#project-name"),o=document.querySelector("#project-desc"),c=document.querySelector("#project-development"),n=document.querySelector("#project-previews"),a=document.querySelector("#project-switcher");let s=localStorage.getItem("projectViewKey"),u=e(s);function i(e,t){const r=e.querySelectorAll("source"),o=e.querySelector("img"),c=r.length;r.forEach(((e,r)=>{const o=t[r];e.setAttribute("srcset",o)})),o.setAttribute("src",t[c]),o.setAttribute("srcset",t[c-1])}function l(e){const t=e.currentTarget;e.target.closest("[data-interactable]")&&(localStorage.setItem("projectViewKey",t.dataset.project),s=localStorage.getItem("projectViewKey"),d())}async function d(){const d=await async function(){const e=await fetch("/project-data.json");if(!e.ok)throw new Error("error fetching data");return await e.json()}(),p=d[s],{banner:y,description:j,development:S,staticPreviews:f}=p,{previousKeyIndex:w,nextKeyIndex:g}=function(e,t){const r=Object.keys(e),o=r.indexOf(t);if(o<0)throw new Error("key not found");return{previousKeyIndex:o>0?o-1:r.length-1,nextKeyIndex:o<r.length-1?o+1:0}}(d,s);i(t,y),r.textContent=u,o.textContent=j,c.textContent=S,n.querySelectorAll("picture").forEach(((e,t)=>{i(e,f[t])})),function(t,r){const o=Object.keys(t),c=a.querySelector("[data-switch-to='next'"),n=a.querySelector("[data-switch-to='prev'"),s=(c.getAttribute("data-project"),n.getAttribute("data-project"),c.querySelector("#next-project")),u=n.querySelector("#prev-project");n.dataset.project=o[r[0]],c.dataset.project=o[r[1]],s.textContent=e(c.dataset.project),u.textContent=e(n.dataset.project)}(d,[w,g]),a.querySelectorAll("[data-switch-to]").forEach((e=>{e.addEventListener("click",l)}))}d()})();